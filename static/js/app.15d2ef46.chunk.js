(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{155:function(e,t,r){"use strict";var n,a;r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return c})),function(e){e.CLUB="\u2663\ufe0f",e.DIAMOND="\u2666\ufe0f",e.HEART="\u2665\ufe0f",e.SPADE="\u2660\ufe0f"}(n||(n={})),function(e){e.CLUB="club",e.DIAMOND="diamond",e.HEART="heart",e.SPADE="spade"}(a||(a={}));var o=function(e){switch(e){case a.CLUB:return n.CLUB;case a.DIAMOND:return n.DIAMOND;case a.HEART:return n.HEART;default:return n.SPADE}},c=["A","2","3","4","5","6","7","8","9","10","P","D","M"]},156:function(e,t){},157:function(e,t){},158:function(e,t){},159:function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){e.BET_SET="BET_SET",e.CARD_PLAYED="CARD_PLAYED",e.CONNECTED="CONNECTED",e.DEAL_CARDS="DEAL_CARDS",e.END_GAME="END_GAME",e.ERROR="ERROR",e.GAME_FULL="GAME_FULL",e.GAME_INIT="GAME_INIT",e.GAME_JOINED="GAME_JOINED",e.GAMES_LIST="GAMES_LIST",e.GAME_STARTED="GAME_STARTED",e.INIT_GAME="INIT_GAME",e.JOIN_GAME="JOIN_GAME",e.LIST_GAMES="LIST_GAMES",e.NOT_FOUND="NOT_FOUND",e.PLAY_CARD="PLAY_CARD",e.SET_BET="SET_BET",e.SET_CARDS="SET_CARDS",e.SET_CARD_COLOR="SET_CARD_COLOR",e.SET_GAME_ROUND="SET_GAME_ROUND",e.SET_PLAYER_POSITION="SET_PLAYER_POSITION",e.SET_PLAYERS="SET_PLAYERS",e.SET_SCORE="SET_SCORE",e.SET_TURN="SET_TURN",e.SET_TURN_WINNER="SET_TURN_WINNER",e.SHOULD_PLAY_CARD="SHOULD_PLAY_CARD",e.SHOULD_SET_BET="SHOULD_SET_BET",e.START_GAME="START_GAME",e.SUCCESS="SUCCESS",e.WELCOME="WELCOME"}(n||(n={}))},18:function(e,t,r){"use strict";var n=r(155);r.d(t,"CARD_COLOR",(function(){return n.a})),r.d(t,"CardNumber",(function(){return n.b})),r.d(t,"SERVER_CARD_COLOR",(function(){return n.c})),r.d(t,"convertServerCardColorToCardColor",(function(){return n.d}));var a=r(156);r.o(a,"WEB_SOCKET_ACTION")&&r.d(t,"WEB_SOCKET_ACTION",(function(){return a.WEB_SOCKET_ACTION}));var o=r(157);r.o(o,"WEB_SOCKET_ACTION")&&r.d(t,"WEB_SOCKET_ACTION",(function(){return o.WEB_SOCKET_ACTION}));var c=r(158);r.o(c,"WEB_SOCKET_ACTION")&&r.d(t,"WEB_SOCKET_ACTION",(function(){return c.WEB_SOCKET_ACTION}));var l=r(159);r.d(t,"WEB_SOCKET_ACTION",(function(){return l.a}))},249:function(e,t,r){e.exports=r(298)},298:function(e,t,r){"use strict";r.r(t);r(299);var n,a=r(304),o=r(0),c=r.n(o),l=r(38),u=r(201),i=r(178),s=r(303),E=r(15),d=r.n(E),m=r(46),_=r(33),b=r(9),O=r(54),C=r(4),f=r(12),y=r(45),p=r(50),S=r(3);!function(e){e.CARD_PLAYED="CARD_PLAYED",e.END_GAME="END_GAME",e.INIT_GAME="INIT_GAME",e.JOIN_GAME="JOIN_GAME",e.LIST_GAMES="LIST_GAMES",e.GAME_FULL="GAME_FULL",e.GAME_INIT="GAME_INIT",e.GAME_JOINED="GAME_JOINED",e.GAMES_LIST="GAMES_LIST",e.PLAY_CARD="PLAY_CARD",e.REMOVE_OLD_PLAYED_CARDS="REMOVE_OLD_PLAYED_CARDS",e.SET_BET="SET_BET",e.SET_BET_FOR_PLAYER="SET_BET_FOR_PLAYER",e.SET_CARD_COLOR="SET_CARD_COLOR",e.SET_GAME="SET_GAME",e.SET_GAME_ROUND="SET_GAME_ROUND",e.SET_GAME_WITH_GAME_ID="SET_GAME_WITH_GAME_ID",e.SET_HAND="SET_HAND",e.SET_PLAYER="SET_PLAYER",e.SET_PLAYERS="SET_PLAYERS",e.SET_SCORE="SET_SCORE",e.SET_TURN="SET_TURN",e.SET_TURN_WINNER="SET_TURN_WINNER",e.SHOULD_PLAY_CARD="SHOULD_PLAY_CARD",e.SHOULD_SET_BET="SHOULD_SET_BET"}(n||(n={}));var T,g,A=function(e){return{data:{roundCount:e.roundCount,winner:e.winner},type:n.END_GAME}},I=function(e){return{data:{gameId:e},type:n.GAME_FULL}},v=function(e){return{data:{game:e},type:n.GAME_INIT}},D=function(e){var t=e.bet,r=e.player;return{data:{bet:t,player:null==r?void 0:r._id},type:n.SET_BET_FOR_PLAYER}},N=function(e){return{data:{player:e},type:n.SET_PLAYER}};!function(e){e.CONNECTED="WEB_SOCKET_CONNECTED",e.DISCONNECTED="WEB_SOCKET_DISCONNECTED",e.INVALID_MESSAGE_RECEIVED="WEB_SOCKET_INVALID_MESSAGE_RECEIVED",e.MESSAGE_RECEIVED="WEB_SOCKET_MESSAGE_RECEIVED",e.SEND_MESSAGE="WEB_SOCKET_SEND_MESSAGE",e.SET_SOCKET_ID="SET_SOCKET_ID"}(T||(T={})),function(e){e.LOBBY="lobby"}(g||(g={}));var R=function(e){return{data:{message:e},type:T.SEND_MESSAGE}},j=function(e){return{data:{socketId:e},type:T.SET_SOCKET_ID}},L=Object(l.b)((function(e){return{games:e.game.games}}),(function(e){return{initGame:function(t,r){return e({data:{name:(a={name:r,nbPlayers:t}).name,nbPlayers:a.nbPlayers},type:n.INIT_GAME});var a},joinGame:function(t,r){return e(function(e,t){return{data:{game:e,name:t},type:n.JOIN_GAME}}(t,r))}}}))(Object(o.memo)((function(e){var t=e.games,r=e.initGame,n=e.joinGame,a=Object(o.useState)(),l=d()(a,2),u=l[0],i=l[1],s=Object(o.useState)(),E=d()(s,2),C=E[0],T=E[1],g=Object(o.useState)(3),A=d()(g,2),I=A[0],v=A[1],D=Object(o.useCallback)((function(e){return T(e)}),[T]),N=Object(o.useCallback)((function(){C&&r(I,C)}),[r,C,I]),R=Object(o.useCallback)((function(){u&&C&&n(u,C)}),[u,C]),j=Object(o.useCallback)((function(e){return function(){i(e)}}),[i]),L=Object(o.useCallback)((function(e){var t=e.item;return c.a.createElement(p.a,{onPress:j(t._id),style:M.game},u===t._id?c.a.createElement(f.a,{style:M.gameName},"[x]"):c.a.createElement(f.a,{style:M.gameName},"[  ]"),c.a.createElement(f.a,{style:M.gameName},(t.name||t._id)+" ("+t._id.substring(t._id.length-4)+") - "+t.nbPlayers+" joueurs"))}),[u]),P=Object(o.useCallback)((function(){v(Math.min(I+1,10))}),[I]),h=Object(o.useCallback)((function(){v(Math.max(I-1,3))}),[I]);return c.a.createElement(O.a,null,c.a.createElement(_.a,{keyExtractor:function(e){return null==e?void 0:e._id},data:t,extraData:"web"===b.a.OS&&u,renderItem:L,style:M.gamesContainer,contentContainerStyle:M.gamesContentContainer}),c.a.createElement(y.a,{onChangeText:D,placeholder:"Nom d'utilisateur",style:M.textInput}),c.a.createElement(S.a,{style:M.button},c.a.createElement(m.a,{title:"Rejoindre une partie",onPress:R})),c.a.createElement(S.a,{style:M.nbPlayersContainer},c.a.createElement(f.a,{style:M.nbPlayersTitle},"Nombre de joueurs"),c.a.createElement(S.a,{style:M.nbPlayersButtonContainer},c.a.createElement(m.a,{title:"-",onPress:h}),c.a.createElement(f.a,{style:M.nbPlayers},I),c.a.createElement(m.a,{title:"+",onPress:P}))),c.a.createElement(S.a,{style:M.button},c.a.createElement(m.a,{title:"Cr\xe9er une partie",onPress:N})))}))),M=C.a.create({button:{marginHorizontal:15,marginTop:10},game:{flexDirection:"row",marginBottom:5},gameName:{paddingLeft:5},gamesContainer:{backgroundColor:"white",borderColor:"grey",borderRadius:3,borderWidth:1,height:150,marginHorizontal:15,marginTop:25,paddingHorizontal:15,paddingVertical:10},gamesContentContainer:{paddingBottom:20},nbPlayers:{marginHorizontal:10},nbPlayersButtonContainer:{alignItems:"center",flexDirection:"row"},nbPlayersContainer:{alignItems:"center",justifyContent:"center",marginBottom:5,marginTop:10},nbPlayersTitle:{marginBottom:10},textInput:{borderBottomColor:"grey",borderBottomWidth:1,marginHorizontal:15,marginVertical:10,paddingHorizontal:5,paddingVertical:10}}),P=L,h=r(65),B=r(1),G=r.n(B),w=r(36),x=r(109);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){G()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var H,Y,U=Object(l.b)((function(e){return{finalRoundCount:e.game.finalRoundCount,me:e.game.player,players:e.game.players,winner:e.game.winner}}))(Object(o.memo)((function(e){var t=e.finalRoundCount,r=e.me,n=e.players,a=e.winner,l=Object(o.useMemo)((function(){return n.sort((function(e,t){return t.score-e.score}))}),[n]),u=Object(o.useCallback)((function(e){var t=e.item;return c.a.createElement(S.a,{style:K.row},c.a.createElement(S.a,{style:K.gridColumnName},c.a.createElement(f.a,{style:K.gridContent},t.name)),c.a.createElement(S.a,{style:[K.gridColumn,K.center]},c.a.createElement(f.a,{style:K.gridContent},t.score)))}),[]),i=Object(o.useCallback)((function(){return c.a.createElement(S.a,{style:K.separator})}),[]),s=Object(o.useCallback)((function(){return c.a.createElement(S.a,{style:[K.row,K.separator]},c.a.createElement(S.a,{style:K.gridColumnName},c.a.createElement(f.a,{style:K.gridHeader},"Nom")),c.a.createElement(S.a,{style:[K.gridColumn,K.center]},c.a.createElement(f.a,{style:K.gridHeader},"Score")))}),[]),E=Object(o.useMemo)((function(){return r&&(null==a?void 0:a._id)===(null==r?void 0:r._id)}),[r,a]);return a?c.a.createElement(x.a,{visible:!!a,style:"web"===b.a.OS&&K.modal},c.a.createElement(O.a,{style:K.container},c.a.createElement(f.a,null,"Vous avez ",c.a.createElement(f.a,{style:{color:E?"green":"orange"}},E?"gagn\xe9 !":"perdu")," en "+(t||0)+" manches"),c.a.createElement(S.a,{style:K.gridContainer},c.a.createElement(_.a,{bounces:!1,data:l,ItemSeparatorComponent:i,keyExtractor:function(e){return e._id},ListHeaderComponent:s,listKey:"firstPlayers",renderItem:u,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1})))):null}))),K=C.a.create({center:{alignItems:"center",justifyContent:"center"},container:{alignItems:"center",flex:1,justifyContent:"center"},gridColumn:{borderLeftColor:"black",borderLeftWidth:1,flex:4},gridColumnName:{flex:7,padding:5},gridContainer:{borderColor:"black",borderWidth:1,marginHorizontal:15,marginTop:50,width:w.a.get("window").width-30},gridContent:{fontSize:12},gridHeader:{fontSize:13},modal:W(W({},C.a.absoluteFillObject),{},{backgroundColor:"white"}),row:{flexDirection:"row"},separator:{borderBottomColor:"black",borderBottomWidth:1}}),V=U,z=r(26),F=r.n(z),J=r(104),Q=r(22),q=r.n(Q),X=r(18),Z=function(e){return e===X.CARD_COLOR.HEART||e===X.CARD_COLOR.DIAMOND},$=function(e,t){for(var r=[],n=0;n<e;n+=1)r.push(t);return r},ee=(H={},G()(H,X.SERVER_CARD_COLOR.CLUB,0),G()(H,X.SERVER_CARD_COLOR.DIAMOND,1),G()(H,X.SERVER_CARD_COLOR.HEART,2),G()(H,X.SERVER_CARD_COLOR.SPADE,3),H),te={1:13,2:1,3:2,4:3,5:4,6:5,7:6,8:7,9:8,10:9,11:10,12:11,13:12},re=function(e,t,r){var n=e.filter((function(e){return e.card.color===t}));return q()(n.length?n:e).sort((function(e,t){var n=e.card,a=t.card,o=function(e,t,r){return e===t?0:e===r?-1:t===r?1:ee[e]-ee[t]}(n.color,a.color,r);return 0!==o?o:te[n.number]-te[a.number]}))},ne=Object(o.memo)((function(e){var t=e.color,r=e.value,n=e.width,a=Object(o.useMemo)((function(){return r>10?[[""]]:function(e){if(e<4||e>10)return[$(e,"")];var t=Math.floor(Math.min(e/2,e>8?4:3)),r=e%t,n=[];return n.push($(t,"")),r&&n.push($(r,"")),n.push($(t,"")),n}(r)}),[r]),l=Object(o.useMemo)((function(){return ae(n)}),[n]);return c.a.createElement(S.a,{style:l.container},a.map((function(e,r){return c.a.createElement(S.a,{style:l.column,key:t+"-"+r},e.map((function(e,n,a){return c.a.createElement(f.a,{key:t+"-"+r+"-"+n,style:[a.length<2&&0===r?l.columnItemSolo:l.columnItem,n>=a.length/2&&l.columnItemReversed]},""+t)})))})))})),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:120;return C.a.create({column:{alignItems:"center",height:"100%",justifyContent:"space-evenly"},columnItem:{fontSize:Math.floor(.1*e)},columnItemReversed:{transform:[{rotate:"180deg"}]},columnItemSolo:{fontSize:Math.floor(50/120*e)},container:{alignItems:"center",flex:1,flexDirection:"row",justifyContent:"space-evenly",marginHorizontal:Math.floor(20/120*e),marginVertical:Math.floor(10/120*e)}})},oe=ne,ce=Object(o.memo)((function(e){var t=e.color,r=e.number,n=e.onPress,a=e.selected,l=e.style,u=e.value,i=e.width,s=Object(o.useMemo)((function(){return le(t,i)}),[t]);return c.a.createElement(p.a,{activeOpacity:1,onPress:n,style:[s.container,a&&s.selectedContainer,l]},c.a.createElement(oe,{color:t,value:u,width:i}),c.a.createElement(S.a,{style:s.topLeftContainer},c.a.createElement(f.a,{style:s.number},""+X.CardNumber[r-1]),c.a.createElement(f.a,{style:s.text},""+t)),c.a.createElement(S.a,{style:s.bottomRightContainer},c.a.createElement(f.a,{style:s.number},""+X.CardNumber[r-1]),c.a.createElement(f.a,{style:s.text},""+t)))})),le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120;return C.a.create({bottomRightContainer:{alignItems:"center",bottom:Math.floor(.05*t),position:"absolute",right:Math.floor(.05*t),transform:[{rotate:"180deg"}]},container:{backgroundColor:"white",borderColor:"black",borderRadius:Math.floor(10/120*t),borderWidth:Math.floor(2/120*t),height:Math.floor(170/120*t),width:t},number:{color:Z(e)?"red":"black",fontSize:Math.floor(.1*t)},selectedContainer:{borderColor:"blue"},text:{fontSize:Math.floor(10/120*t)},topLeftContainer:{alignItems:"center",left:Math.floor(.05*t),position:"absolute",top:Math.floor(.05*t)}})},ue=ce;!function(e){e.BET="BET",e.PLAY_CARD="PLAY_CARD"}(Y||(Y={}));var ie=Object(l.b)((function(e){var t,r;return{currentPlayerTurn:e.game.currentPlayerTurn,isMyTurn:(null==(t=e.game.currentPlayerTurn)?void 0:t._id)===(null==(r=e.game.player)?void 0:r._id),turnAction:e.game.turnAction}}))(Object(o.memo)((function(e){var t=e.currentPlayerTurn,r=e.isMyTurn,n=e.turnAction;return c.a.createElement(f.a,{style:se.comment},"C'est "+(r?"\xe0 mon tour":"au tour de "+(null==t?void 0:t.name))+" de "+(n===Y.BET?"valider le contrat.":"jouer."))}))),se=C.a.create({comment:{marginHorizontal:15,marginVertical:20,textAlign:"center"}}),Ee=ie,de=Object(l.b)((function(e){var t,r;return{isMyTurn:(null==(t=e.game.currentPlayerTurn)?void 0:t._id)===(null==(r=e.game.player)?void 0:r._id),me:e.game.player,turnWinner:e.game.turnWinner}}),(function(e){return{removeOldPlayedCards:function(){return e({type:n.REMOVE_OLD_PLAYED_CARDS})}}}))(Object(o.memo)((function(e){var t=e.isMyTurn,r=e.me,n=e.removeOldPlayedCards,a=e.turnWinner,l=Object(o.useCallback)((function(){n()}),[]),u=Object(o.useMemo)((function(){return(null==r?void 0:r._id)===(null==a?void 0:a._id)}),[a,r]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{style:me.title},u?"Vous avez remport\xe9 le pli":(null==a?void 0:a.name)+" a remport\xe9 le pli"),c.a.createElement(m.a,{title:"Continuer",onPress:l}),!!t&&c.a.createElement(f.a,{style:me.danger},"C'est \xe0 vous de jouer !!!"),c.a.createElement(Ee,null))}))),me=C.a.create({danger:{color:"red",fontSize:25,fontWeight:"bold",marginTop:20,textAlign:"center"},title:{fontSize:25,marginBottom:20,marginHorizontal:15,textAlign:"center"}}),_e=de;function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){G()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ce,fe=Object(l.b)((function(e){var t,r,n,a;return{assetColor:null==(t=e.game.round)?void 0:t.asset,cards:e.game.hand,cardsDealt:null==(r=e.game.round)?void 0:r.cardsDealt,color:e.game.color,currentPlayerTurn:e.game.currentPlayerTurn,isMyTurn:(null==(n=e.game.currentPlayerTurn)?void 0:n._id)===(null==(a=e.game.player)?void 0:a._id),me:e.game.player,oldPlayedCards:e.game.oldPlayedCards,turnAction:e.game.turnAction}}),(function(e){return{playCard:function(t){return e({data:{cardId:t},type:n.PLAY_CARD})},validateBet:function(t){return e(function(e){return{data:{bet:e},type:n.SET_BET}}(t))}}}))(Object(o.memo)((function(e){var t=e.assetColor,r=e.cards,n=e.cardsDealt,a=e.color,l=e.isMyTurn,u=e.me,i=e.oldPlayedCards,s=e.playCard,E=e.validateBet,b=Object(o.useState)(0),O=d()(b,2),C=O[0],y=O[1],T=Object(o.useState)(),g=d()(T,2),A=g[0],I=g[1],v=Object(o.useState)(!1),D=d()(v,2),N=D[0],R=D[1],j=Object(o.useMemo)((function(){return"number"===typeof(null==u?void 0:u.bet)}),[u]),L=Object(o.useMemo)((function(){return ye(N)}),[N]),M=Object(o.useCallback)((function(){y(Math.min(n||0,C+1))}),[C,n]),P=Object(o.useCallback)((function(){y(Math.max(0,C-1))}),[C]),h=Object(o.useCallback)((function(){E(C)}),[C]),B=Object(o.useCallback)((function(){A&&(s(A),I(void 0))}),[A]),G=Object(o.useCallback)((function(e){return function(){I(A===e?void 0:e)}}),[A]),w=Object(o.useCallback)((function(){R(!N)}),[N]),x=Object(o.useCallback)((function(e){var t=e.item,r=function(e){var t=e._id,r=e.card;return{color:Object(X.convertServerCardColorToCardColor)(r.color),identifier:t,number:r.number,value:r.number}}(t);return c.a.createElement(ue,F()({},r,{onPress:j?G(t._id):void 0,selected:A===t._id,style:N?L.singleCard:void 0}))}),[A,j,N]),k=Object(o.useCallback)((function(){return c.a.createElement(S.a,{style:L.separator})}),[]);return i.length?c.a.createElement(_e,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(S.a,{style:L.titleContainer},c.a.createElement(f.a,{style:L.title},"Mes cartes ("+r.length+") :"),r.length>3&&c.a.createElement(p.a,{onPress:w},c.a.createElement(f.a,{style:L.minify},N?"Espacer":"Minifier"))),c.a.createElement(_.a,{keyExtractor:function(e){return e._id},data:re(r,a,t),horizontal:!0,ItemSeparatorComponent:k,renderItem:x,showsHorizontalScrollIndicator:!1,contentContainerStyle:L.flatListContent}),!j&&l&&c.a.createElement(S.a,{style:L.buttonContainer},c.a.createElement(S.a,{style:L.buttonControllerContainer},c.a.createElement(m.a,{title:"-",onPress:P}),c.a.createElement(f.a,null,C),c.a.createElement(m.a,{title:"+",onPress:M})),c.a.createElement(m.a,{title:"Valider le contrat",onPress:h})),!!A&&l&&c.a.createElement(m.a,{title:"Valider la carte",onPress:B}),c.a.createElement(Ee,null))}))),ye=function(e){return C.a.create({buttonContainer:{alignItems:"center"},buttonControllerContainer:{alignItems:"center",flexDirection:"row"},flatListContent:{paddingLeft:e?120:15,paddingRight:15},minify:Oe(Oe({},b.a.select({ios:{color:"function"===typeof J.PlatformColor&&Object(J.PlatformColor)("link")},android:{color:"function"===typeof J.PlatformColor&&Object(J.PlatformColor)("?attr/autoLink")},default:{color:"blue"}})),{},{marginBottom:10,marginHorizontal:15}),separator:{width:10},singleCard:{marginLeft:e?-105:void 0},title:{marginBottom:10,marginHorizontal:15},titleContainer:{alignItems:"center",flexDirection:"row",justifyContent:"space-between"}})},pe=fe,Se=Object(l.b)((function(e){var t,r,n,a;return{asset:{color:e.game.oldAssetColor&&e.game.oldAssetNumber?e.game.oldAssetColor:null==(t=e.game.round)?void 0:t.asset,number:e.game.oldAssetColor&&e.game.oldAssetNumber?e.game.oldAssetNumber:null==(r=e.game.round)?void 0:r.assetNumber},currentPlayerTurnId:null!=(n=null==(a=e.game.currentPlayerTurn)?void 0:a._id)?n:"",players:e.game.players}}))(Object(o.memo)((function(e){var t=e.asset,r=e.currentPlayerTurnId,n=e.players,a=Object(o.useCallback)((function(e){var t=e.item,n=t._id===r;return c.a.createElement(S.a,{style:Te.row},c.a.createElement(S.a,{style:Te.column},c.a.createElement(f.a,{style:Te.gridContent},n?">":"")),c.a.createElement(S.a,{style:Te.gridColumnName},c.a.createElement(f.a,{style:[Te.gridContent,n&&Te.currentTurnName]},t.name)),c.a.createElement(S.a,{style:[Te.gridColumn,Te.center]},c.a.createElement(f.a,{style:Te.gridContent},"number"===typeof t.bet?t.bet:"...")),c.a.createElement(S.a,{style:[Te.gridColumn,Te.center]},c.a.createElement(f.a,{style:Te.gridContent},t.score)),c.a.createElement(S.a,{style:[Te.gridColumn,Te.center]},c.a.createElement(f.a,{style:Te.gridContent},t.turnWon)))}),[r]),l=Object(o.useCallback)((function(){return c.a.createElement(S.a,{style:Te.separator})}),[]),u=Object(o.useCallback)((function(){return c.a.createElement(S.a,{style:Te.row},c.a.createElement(S.a,{style:Te.column}),c.a.createElement(S.a,{style:Te.gridColumnName},c.a.createElement(f.a,{style:Te.gridHeader},"Nom")),c.a.createElement(S.a,{style:[Te.gridColumn,Te.center]},c.a.createElement(f.a,{style:Te.gridHeader},"Contrat")),c.a.createElement(S.a,{style:[Te.gridColumn,Te.center]},c.a.createElement(f.a,{style:Te.gridHeader},"Score")),c.a.createElement(S.a,{style:[Te.gridColumn,Te.center]},c.a.createElement(f.a,{style:Te.gridHeader},"Plis")))}),[]);return c.a.createElement(S.a,{style:Te.container},c.a.createElement(S.a,{style:Te.gridContainer},c.a.createElement(_.a,{listKey:"firstPlayers",data:n,keyExtractor:function(e){return e._id},renderItem:a,ListHeaderComponent:u,ItemSeparatorComponent:l})),c.a.createElement(S.a,{style:[Te.column,Te.flexEnd]},c.a.createElement(S.a,null,c.a.createElement(f.a,{style:Te.title},"Atout :"),!(!t.number||!t.color)&&c.a.createElement(ue,{color:Object(X.convertServerCardColorToCardColor)(t.color),identifier:t.color+"-"+t.number,number:t.number,value:t.number,width:Math.min(Math.floor((w.a.get("window").width-30)/4),120)}))))}))),Te=C.a.create({center:{alignItems:"center",justifyContent:"center"},column:{flex:1},container:{flexDirection:"row",justifyContent:"space-between",marginHorizontal:15},currentTurnName:{color:"blue"},flexEnd:{alignItems:"flex-end"},gridColumn:{flex:4},gridColumnName:{flex:7},gridContainer:{flex:2},gridContent:{fontSize:10},gridHeader:{fontSize:11},row:{flexDirection:"row"},separator:{borderBottomColor:"black",borderBottomWidth:1},title:{marginBottom:10}}),ge=Se,Ae=Object(o.memo)((function(e){var t=e.card,r=e.player,n=e.width,a=function(e){return{color:Object(X.convertServerCardColorToCardColor)(e.color),identifier:e._id,number:e.number,value:e.number}}(t);return c.a.createElement(S.a,{style:Ie.cardContainer},c.a.createElement(f.a,null,r.name),c.a.createElement(ue,F()({},a,{width:n})))})),Ie=C.a.create({cardContainer:{marginHorizontal:5}}),ve=Ae,De=Object(l.b)((function(e){return{playedCards:e.game.oldPlayedCards.length?e.game.oldPlayedCards:e.game.playedCards}}))(Object(o.memo)((function(e){var t=e.playedCards,r=Object(o.useCallback)((function(e){var t=e.item;return c.a.createElement(ve,t)}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{style:Ne.title},"Cartes jou\xe9es :"),c.a.createElement(_.a,{keyExtractor:function(e){return e.card._id+"-"+e.player._id},data:t,horizontal:!0,renderItem:r,contentContainerStyle:Ne.contentContainer,showsHorizontalScrollIndicator:!1}))}))),Ne=C.a.create({contentContainer:{paddingHorizontal:10},title:{marginBottom:10,marginHorizontal:15}}),Re=De,je=Object(o.memo)((function(e){var t=e.navigation;return c.a.useEffect((function(){return t.addListener("beforeRemove",(function(e){e.preventDefault(),h.a.alert("Quitter la partie","Vous ne pourrez pas r\xe9int\xe9grer la partie...",[{text:"Rester",style:"cancel",onPress:function(){}},{text:"Quitter la partie",style:"destructive",onPress:function(){return t.dispatch(e.data.action)}}])}))}),[t]),c.a.createElement(O.a,{style:Le.container},c.a.createElement(_.a,{data:[],renderItem:function(){return null},contentContainerStyle:Le.contentContainer,ListHeaderComponent:c.a.createElement(ge,null),ListEmptyComponent:c.a.createElement(Re,null),ListFooterComponent:c.a.createElement(pe,null)}),c.a.createElement(V,null))})),Le=C.a.create({container:{flex:1,marginTop:"android"===b.a.OS?50:void 0},contentContainer:{flexGrow:1,width:"100%"}}),Me=je,Pe=r(110),he=Object(l.b)((function(e){return{game:e.game.game,player:e.game.player,gamePlayers:e.game.players}}))(Object(o.memo)((function(e){var t=e.game,r=e.gamePlayers,n=e.player,a=Object(o.useCallback)((function(e){var t=e.item;return c.a.createElement(S.a,{style:Be.playerContainer},c.a.createElement(f.a,{style:Be.title},t.name+(t._id===n._id?" (moi)":"")),c.a.createElement(f.a,null,"Identifiant : "+t._id),c.a.createElement(f.a,null,"Score : "+t.score),c.a.createElement(f.a,null,"Socket : "+t.socketId))}),[n]);return c.a.createElement(O.a,null,c.a.createElement(S.a,{style:Be.gameContainer},c.a.createElement(f.a,{style:Be.title},"PARTIE"),c.a.createElement(f.a,null,"Nom : "+t.name),c.a.createElement(f.a,null,"Identifiant : "+t._id),c.a.createElement(f.a,null,"Places libres : "+(t.nbPlayers-r.length))),c.a.createElement(_.a,{keyExtractor:function(e){return e._id},data:r,renderItem:a,style:Be.playersContainer}),c.a.createElement(S.a,{style:Be.activityIndicatorView},c.a.createElement(Pe.a,{color:"android"===b.a.OS?"grey":void 0}),c.a.createElement(f.a,{style:Be.activityIndicatorText},"En attente d'autres joueurs...")))}))),Be=C.a.create({activityIndicatorText:{marginLeft:10},activityIndicatorView:{alignItems:"center",flexDirection:"row",justifyContent:"center",marginVertical:15,paddingHorizontal:15},gameContainer:{backgroundColor:"white",borderColor:"grey",borderRadius:3,borderWidth:1,marginVertical:10,marginHorizontal:15,paddingHorizontal:15,paddingVertical:10},playerContainer:{marginVertical:10},playersContainer:{backgroundColor:"white",borderColor:"grey",borderRadius:3,borderWidth:1,marginHorizontal:15,paddingHorizontal:15},title:{fontWeight:"bold",marginBottom:10}}),Ge=he,we=Object(s.a)();!function(e){e.LOBBY="Lobby",e.GAME_LOBBY="GameLobby",e.IN_GAME="InGame"}(Ce||(Ce={}));var xe=function(){return c.a.createElement(we.Navigator,{initialRouteName:Ce.LOBBY},c.a.createElement(we.Screen,{name:Ce.LOBBY,component:P}),c.a.createElement(we.Screen,{name:Ce.GAME_LOBBY,component:Ge}),c.a.createElement(we.Screen,{name:Ce.IN_GAME,component:Me,options:{gestureEnabled:!1,headerShown:!1}}))},ke=r(207),We=r(147),He=r(208),Ye=r(51),Ue=r(209).a.manifest.extra.WS_URL,Ke=r(28),Ve=r.n(Ke),ze=r(20),Fe=function(e){return{send_packet:{to:e.to,message:e.message}}},Je=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return{connect_to:t}},Qe=Ve.a.mark(tt),qe=Ve.a.mark(rt),Xe=Ve.a.mark(nt),Ze=Ve.a.mark(at),$e=Ve.a.mark(ot),et=Ve.a.mark(ct);function tt(e){var t,r,n,a;return Ve.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.data,r=t.name,n=t.nbPlayers,a=Fe({to:g.LOBBY,message:{action:X.WEB_SOCKET_ACTION.INIT_GAME,data:{name:r,nbPlayers:n}}}),o.next=4,Object(ze.b)(R(a));case 4:case"end":return o.stop()}}),Qe)}function rt(){var e;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Fe({to:g.LOBBY,message:{action:X.WEB_SOCKET_ACTION.LIST_GAMES}}),t.next=3,Object(ze.b)(R(e));case 3:case"end":return t.stop()}}),qe)}function nt(e){var t,r,n,a;return Ve.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.data,r=t.game,n=t.name,a=Fe({to:g.LOBBY,message:{action:X.WEB_SOCKET_ACTION.JOIN_GAME,data:{game:r,name:n}}}),o.next=4,Object(ze.b)(R(a));case 4:case"end":return o.stop()}}),Xe)}function at(e){var t,r,n;return Ve.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.data.bet,a.next=3,Object(ze.c)((function(e){var t;return null==(t=e.game.game)?void 0:t._id}));case 3:return r=a.sent,n=Fe({to:r,message:{action:X.WEB_SOCKET_ACTION.SET_BET,data:{bet:t}}}),a.next=7,Object(ze.b)(R(n));case 7:case"end":return a.stop()}}),Ze)}function ot(e){var t,r,n,a;return Ve.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.data.cardId,o.next=3,Object(ze.c)((function(e){var t;return null==(t=e.game.game)?void 0:t._id}));case 3:return r=o.sent,o.next=6,Object(ze.c)((function(e){var t;return null==(t=e.game.turn)?void 0:t._id}));case 6:return n=o.sent,a=Fe({to:r,message:{action:X.WEB_SOCKET_ACTION.PLAY_CARD,data:{playerCard:t,gameTurn:n}}}),o.next=10,Object(ze.b)(R(a));case 10:case"end":return o.stop()}}),$e)}function ct(){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.e)(n.JOIN_GAME,nt);case 2:return e.next=4,Object(ze.e)(n.INIT_GAME,tt);case 4:return e.next=6,Object(ze.e)(n.LIST_GAMES,rt);case 6:return e.next=8,Object(ze.e)(n.SET_BET,at);case 8:return e.next=10,Object(ze.e)(n.PLAY_CARD,ot);case 10:case"end":return e.stop()}}),et)}var lt=r(64),ut=Object(o.createRef)();function it(e,t){var r;lt.a.dismiss(),null==(r=ut.current)||r.navigate(e,t)}var st=Ve.a.mark(_t),Et=Ve.a.mark(bt),dt=Ve.a.mark(Ot),mt=Ve.a.mark(Ct);function _t(){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.b)(R(Je(g.LOBBY)));case 2:case"end":return e.stop()}}),st)}function bt(e){var t,r,a,o,c,l;return Ve.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:t=e.data.message,console.log(t),t.from,r=t.message,a=r.action,o=r.data,c=r.message,l=t.to,u.t0=a,u.next=u.t0===X.WEB_SOCKET_ACTION.GAMES_LIST?6:u.t0===X.WEB_SOCKET_ACTION.ERROR?9:u.t0===X.WEB_SOCKET_ACTION.GAME_INIT?11:u.t0===X.WEB_SOCKET_ACTION.GAME_JOINED?23:u.t0===X.WEB_SOCKET_ACTION.SET_GAME_ROUND?36:u.t0===X.WEB_SOCKET_ACTION.SET_PLAYERS||u.t0===X.WEB_SOCKET_ACTION.SET_PLAYER_POSITION?39:u.t0===X.WEB_SOCKET_ACTION.GAME_STARTED?42:u.t0===X.WEB_SOCKET_ACTION.GAME_FULL?45:u.t0===X.WEB_SOCKET_ACTION.WELCOME?48:u.t0===X.WEB_SOCKET_ACTION.SET_CARDS?51:u.t0===X.WEB_SOCKET_ACTION.SET_TURN?54:u.t0===X.WEB_SOCKET_ACTION.BET_SET?57:u.t0===X.WEB_SOCKET_ACTION.CARD_PLAYED?60:u.t0===X.WEB_SOCKET_ACTION.SET_CARD_COLOR?63:u.t0===X.WEB_SOCKET_ACTION.SET_SCORE?66:u.t0===X.WEB_SOCKET_ACTION.SET_TURN_WINNER?69:u.t0===X.WEB_SOCKET_ACTION.SHOULD_SET_BET?72:u.t0===X.WEB_SOCKET_ACTION.SHOULD_PLAY_CARD?75:u.t0===X.WEB_SOCKET_ACTION.END_GAME?78:81;break;case 6:return u.next=8,Object(ze.b)({data:{games:o},type:n.GAMES_LIST});case 8:return u.abrupt("break",83);case 9:return h.a.alert(X.WEB_SOCKET_ACTION.ERROR,c),u.abrupt("break",83);case 11:if(!(null==o?void 0:o.player)||!(null==o?void 0:o.game)){u.next=20;break}return u.next=14,Object(ze.b)({data:{game:o.game},type:n.SET_GAME});case 14:return u.next=16,Object(ze.b)(N(o.player));case 16:return u.next=18,Object(ze.a)(it,Ce.GAME_LOBBY);case 18:u.next=22;break;case 20:return u.next=22,Object(ze.b)(v(o));case 22:return u.abrupt("break",83);case 23:return u.next=25,Object(ze.c)((function(e){return e.webSocket.socketId}));case 25:if(u.sent!==o.socketId){u.next=33;break}return u.next=29,Object(ze.b)(N(o));case 29:return u.next=31,Object(ze.b)({data:{gameId:l},type:n.SET_GAME_WITH_GAME_ID});case 31:return u.next=33,Object(ze.a)(it,Ce.GAME_LOBBY);case 33:return u.next=35,Object(ze.b)({data:{gameId:(s={gameId:l,player:o}).gameId,player:s.player},type:n.GAME_JOINED});case 35:return u.abrupt("break",83);case 36:return u.next=38,Object(ze.b)({data:{round:o},type:n.SET_GAME_ROUND});case 38:return u.abrupt("break",83);case 39:return u.next=41,Object(ze.b)({data:{players:o},type:n.SET_PLAYERS});case 41:return u.abrupt("break",83);case 42:return u.next=44,Object(ze.a)(it,Ce.IN_GAME);case 44:return u.abrupt("break",83);case 45:return u.next=47,Object(ze.b)(I(o));case 47:return u.abrupt("break",83);case 48:return u.next=50,Object(ze.b)(j(o));case 50:return u.abrupt("break",83);case 51:return u.next=53,Object(ze.b)({data:{cards:o},type:n.SET_HAND});case 53:return u.abrupt("break",83);case 54:return u.next=56,Object(ze.b)({data:{turn:o},type:n.SET_TURN});case 56:return u.abrupt("break",83);case 57:return u.next=59,Object(ze.b)(D(o));case 59:return u.abrupt("break",83);case 60:return u.next=62,Object(ze.b)({data:{card:o},type:n.CARD_PLAYED});case 62:return u.abrupt("break",83);case 63:return u.next=65,Object(ze.b)({data:{color:o.color},type:n.SET_CARD_COLOR});case 65:return u.abrupt("break",83);case 66:return u.next=68,Object(ze.b)({data:{player:(i=o).player,score:i.score},type:n.SET_SCORE});case 68:return u.abrupt("break",83);case 69:return u.next=71,Object(ze.b)({data:{player:o},type:n.SET_TURN_WINNER});case 71:return u.abrupt("break",83);case 72:return u.next=74,Object(ze.b)({data:{player:o.player},type:n.SHOULD_SET_BET});case 74:return u.abrupt("break",83);case 75:return u.next=77,Object(ze.b)({data:{player:o.player},type:n.SHOULD_PLAY_CARD});case 77:return u.abrupt("break",83);case 78:return u.next=80,Object(ze.b)(A(o));case 80:return u.abrupt("break",83);case 81:return console.log("NOT_HANDLED: "+a),u.abrupt("break",83);case 83:case"end":return u.stop()}var i,s}),Et)}function Ot(e){var t;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.data.message,console.log(t),t!=="Connected to "+g.LOBBY+"."){r.next=5;break}return r.next=5,Object(ze.b)({type:n.LIST_GAMES});case 5:case"end":return r.stop()}}),dt)}function Ct(){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.d)(T.CONNECTED,_t);case 2:return e.next=4,Object(ze.d)(T.MESSAGE_RECEIVED,bt);case 4:return e.next=6,Object(ze.d)(T.INVALID_MESSAGE_RECEIVED,Ot);case 6:case"end":return e.stop()}}),mt)}var ft,yt=r(206);function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(r),!0).forEach((function(t){G()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Tt,gt={games:[],hand:[],oldPlayedCards:[],playedCards:[],players:[],turnAction:Y.BET},At=(ft={},G()(ft,n.CARD_PLAYED,(function(e,t){var r=t.data;return St(St({},e),{},{playedCards:[].concat(q()(e.playedCards),[r.card])})})),G()(ft,n.END_GAME,(function(e,t){var r=t.data;return St(St({},e),{},{finalRoundCount:r.roundCount,winner:r.winner})})),G()(ft,n.GAME_FULL,(function(e,t){var r=t.data;return St(St({},e),{},{games:e.games.filter((function(e){return e._id!==r.gameId}))})})),G()(ft,n.GAME_INIT,(function(e,t){var r=t.data;return St(St({},e),{},{games:[].concat(q()(e.games),[r.game])})})),G()(ft,n.GAME_JOINED,(function(e,t){var r,n=t.data;return(null==n?void 0:n.gameId)!==(null==(r=e.game)?void 0:r._id)||e.players.find((function(e){return e._id===n.player._id}))?St({},e):St(St({},e),{},{players:[].concat(q()(e.players),[n.player])})})),G()(ft,n.GAMES_LIST,(function(e,t){var r=t.data;return St(St({},e),{},{games:r.games})})),G()(ft,n.INIT_GAME,(function(e){return St({},e)})),G()(ft,n.JOIN_GAME,(function(e){return St({},e)})),G()(ft,n.LIST_GAMES,(function(e){return St({},e)})),G()(ft,n.PLAY_CARD,(function(e,t){var r=t.data;return St(St({},e),{},{hand:e.hand.filter((function(e){return e._id!==r.cardId}))})})),G()(ft,n.SET_BET,(function(e,t){var r=t.data;return St(St({},e),{},{player:e.player&&St(St({},e.player),{},{bet:r.bet}),players:e.players.map((function(t){var n;return t._id===(null==(n=e.player)?void 0:n._id)?St(St({},t),{},{bet:r.bet}):t}))})})),G()(ft,n.REMOVE_OLD_PLAYED_CARDS,(function(e){return St(St({},e),{},{oldAssetColor:void 0,oldAssetNumber:void 0,oldPlayedCards:[]})})),G()(ft,n.SET_BET_FOR_PLAYER,(function(e,t){var r=t.data;return St(St({},e),{},{players:e.players.map((function(e){return e._id===r.player?St(St({},e),{},{bet:r.bet}):e}))})})),G()(ft,n.SET_CARD_COLOR,(function(e,t){var r=t.data;return St(St({},e),{},{color:r.color})})),G()(ft,n.SET_HAND,(function(e,t){var r=t.data;return St(St({},e),{},{hand:r.cards,playedCards:[]})})),G()(ft,n.SET_GAME,(function(e,t){var r=t.data;return St(St({},e),{},{game:null==r?void 0:r.game})})),G()(ft,n.SET_GAME_ROUND,(function(e,t){var r=t.data;return St(St({},e),{},{player:e.player&&St(St({},e.player),{},{bet:void 0,turnWon:0}),players:e.players.map((function(e){return St(St({},e),{},{bet:void 0,turnWon:0})})),round:null==r?void 0:r.round})})),G()(ft,n.SET_GAME_WITH_GAME_ID,(function(e,t){var r=t.data;return St(St({},e),{},{game:e.games.find((function(e){return e._id===r.gameId}))})})),G()(ft,n.SET_PLAYER,(function(e,t){var r=t.data;return St(St({},e),{},{player:null==r?void 0:r.player})})),G()(ft,n.SET_PLAYERS,(function(e,t){var r=t.data;return St(St({},e),{},{players:null==r?void 0:r.players.map((function(e){return St(St({},e),{},{turnWon:0})}))})})),G()(ft,n.SET_SCORE,(function(e,t){var r=t.data;return St(St({},e),{},{players:e.players.map((function(e){return e._id===r.player?St(St({},e),{},{score:r.score}):e}))})})),G()(ft,n.SET_TURN,(function(e,t){var r=t.data;return St(St({},e),{},{turn:r.turn})})),G()(ft,n.SET_TURN_WINNER,(function(e,t){var r,n,a=t.data;return St(St({},e),{},{color:void 0,oldAssetColor:null==(r=e.round)?void 0:r.asset,oldAssetNumber:null==(n=e.round)?void 0:n.assetNumber,oldPlayedCards:q()(e.playedCards),playedCards:[],players:e.players.map((function(e){return e._id===a.player._id?St(St({},e),{},{turnWon:(e.turnWon||0)+1}):e})),turnWinner:a.player})})),G()(ft,n.SHOULD_PLAY_CARD,(function(e,t){var r=t.data;return St(St({},e),{},{currentPlayerTurn:r.player,turnAction:Y.PLAY_CARD})})),G()(ft,n.SHOULD_SET_BET,(function(e,t){var r=t.data;return St(St({},e),{},{currentPlayerTurn:r.player,turnAction:Y.BET})})),ft);function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(Object(r),!0).forEach((function(t){G()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Dt,Nt={channel:"",connected:!1},Rt=(Tt={},G()(Tt,T.CONNECTED,(function(e){return vt(vt({},e),{},{connected:!0})})),G()(Tt,T.DISCONNECTED,(function(e){return vt(vt({},e),{},{connected:!1})})),G()(Tt,T.INVALID_MESSAGE_RECEIVED,(function(e){return vt({},e)})),G()(Tt,T.MESSAGE_RECEIVED,(function(e){return vt({},e)})),G()(Tt,T.SEND_MESSAGE,(function(e){return vt({},e)})),G()(Tt,T.SET_SOCKET_ID,(function(e,t){var r=t.data;return vt(vt({},e),{},{socketId:r.socketId})})),Tt),jt={key:"root",storage:He.a},Lt=Object(ke.a)(),Mt=Object(Ye.c)({game:function(e,t){var r=e||gt;return t&&At[t.type]?At[t.type](r,t):St({},r)},webSocket:function(e,t){var r=e||Nt;return t&&Rt[t.type]?Rt[t.type](r,t):vt({},r)}}),Pt=Object(We.a)(jt,Mt),ht=Object(Ye.e)(Pt,Object(Ye.a)((Dt=Ue,function(e){var t=new yt.TypeSocket(Dt),r=!1;return t.on("connected",(function(){return r=!0,console.log("connected"),e.dispatch({type:T.CONNECTED})})),t.on("disconnected",(function(){if(r)return console.log("disconnected"),"web"===b.a.OS?alert("Veuillez relancer l'app s'il-vous-pla\xeet.\n"+Ue):h.a.alert("Un probl\xe8me est survenu","Veuillez relancer l'app s'il-vous-pla\xeet.\n"+Ue),e.dispatch({type:T.DISCONNECTED})})),t.on("message",(function(t){return e.dispatch(function(e){return{data:{message:e},type:T.MESSAGE_RECEIVED}}(t))})),t.on("invalidMessage",(function(t){return e.dispatch(function(e){return{data:{message:e},type:T.INVALID_MESSAGE_RECEIVED}}(t))})),t.connect(),function(e){return function(r){return r.type&&r.type===T.SEND_MESSAGE&&(1===t.readyState?(console.log("send message",r.data.message),t.send(r.data.message)):t.connect()),e(r)}}}),Lt)),Bt=Object(We.b)(ht);Lt.run(ct),Lt.run(Ct);var Gt=function(){return c.a.createElement(l.a,{store:ht},c.a.createElement(u.a,{loading:null,persistor:Bt},c.a.createElement(i.a,{ref:ut},c.a.createElement(xe,null))))};Object(a.a)(Gt)}},[[249,1,2]]]);
//# sourceMappingURL=app.15d2ef46.chunk.js.map